var cov_y2twvpi87=function(){var path='/Users/toraho/Documents/PU2017/kolabtest/PU-2017-Kolab/server.js',hash='6c6fcc53d97cfd130b8de02659398a74dfb70897',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/toraho/Documents/PU2017/kolabtest/PU-2017-Kolab/server.js',statementMap:{'0':{start:{line:1,column:14},end:{line:1,column:32}},'1':{start:{line:2,column:10},end:{line:2,column:19}},'2':{start:{line:3,column:14},end:{line:3,column:32}},'3':{start:{line:5,column:9},end:{line:5,column:148}},'4':{start:{line:6,column:17},end:{line:6,column:39}},'5':{start:{line:7,column:11},end:{line:7,column:26}},'6':{start:{line:8,column:13},end:{line:8,column:30}},'7':{start:{line:9,column:14},end:{line:9,column:161}},'8':{start:{line:12,column:0},end:{line:12,column:18}},'9':{start:{line:13,column:0},end:{line:13,column:21}},'10':{start:{line:15,column:0},end:{line:15,column:35}},'11':{start:{line:16,column:0},end:{line:16,column:27}},'12':{start:{line:20,column:11},end:{line:20,column:38}},'13':{start:{line:21,column:9},end:{line:21,column:35}},'14':{start:{line:22,column:18},end:{line:22,column:19}},'15':{start:{line:25,column:0},end:{line:129,column:3}},'16':{start:{line:26,column:4},end:{line:26,column:55}},'17':{start:{line:27,column:4},end:{line:31,column:5}},'18':{start:{line:28,column:8},end:{line:28,column:25}},'19':{start:{line:29,column:8},end:{line:29,column:26}},'20':{start:{line:30,column:8},end:{line:30,column:30}},'21':{start:{line:34,column:4},end:{line:42,column:7}},'22':{start:{line:35,column:8},end:{line:35,column:43}},'23':{start:{line:36,column:8},end:{line:40,column:9}},'24':{start:{line:37,column:12},end:{line:37,column:29}},'25':{start:{line:38,column:12},end:{line:38,column:30}},'26':{start:{line:39,column:12},end:{line:39,column:34}},'27':{start:{line:45,column:4},end:{line:62,column:7}},'28':{start:{line:46,column:8},end:{line:46,column:39}},'29':{start:{line:49,column:22},end:{line:49,column:58}},'30':{start:{line:52,column:8},end:{line:59,column:11}},'31':{start:{line:53,column:12},end:{line:58,column:13}},'32':{start:{line:54,column:16},end:{line:54,column:42}},'33':{start:{line:57,column:16},end:{line:57,column:77}},'34':{start:{line:61,column:8},end:{line:61,column:81}},'35':{start:{line:64,column:4},end:{line:74,column:7}},'36':{start:{line:65,column:19},end:{line:65,column:52}},'37':{start:{line:66,column:8},end:{line:66,column:108}},'38':{start:{line:67,column:8},end:{line:67,column:78}},'39':{start:{line:69,column:8},end:{line:69,column:71}},'40':{start:{line:72,column:8},end:{line:72,column:37}},'41':{start:{line:75,column:4},end:{line:83,column:7}},'42':{start:{line:76,column:19},end:{line:76,column:56}},'43':{start:{line:77,column:8},end:{line:77,column:116}},'44':{start:{line:78,column:8},end:{line:78,column:70}},'45':{start:{line:79,column:8},end:{line:79,column:79}},'46':{start:{line:80,column:8},end:{line:80,column:29}},'47':{start:{line:82,column:8},end:{line:82,column:39}},'48':{start:{line:84,column:4},end:{line:92,column:7}},'49':{start:{line:85,column:19},end:{line:85,column:56}},'50':{start:{line:86,column:8},end:{line:86,column:116}},'51':{start:{line:87,column:8},end:{line:87,column:73}},'52':{start:{line:88,column:8},end:{line:88,column:79}},'53':{start:{line:90,column:8},end:{line:90,column:39}},'54':{start:{line:93,column:4},end:{line:101,column:7}},'55':{start:{line:94,column:19},end:{line:94,column:55}},'56':{start:{line:95,column:8},end:{line:95,column:114}},'57':{start:{line:96,column:8},end:{line:96,column:68}},'58':{start:{line:97,column:8},end:{line:97,column:77}},'59':{start:{line:99,column:8},end:{line:99,column:38}},'60':{start:{line:102,column:4},end:{line:110,column:7}},'61':{start:{line:103,column:19},end:{line:103,column:55}},'62':{start:{line:104,column:8},end:{line:104,column:114}},'63':{start:{line:105,column:8},end:{line:105,column:67}},'64':{start:{line:106,column:8},end:{line:106,column:77}},'65':{start:{line:108,column:8},end:{line:108,column:38}},'66':{start:{line:111,column:4},end:{line:117,column:6}},'67':{start:{line:112,column:8},end:{line:112,column:63}},'68':{start:{line:113,column:8},end:{line:113,column:29}},'69':{start:{line:114,column:8},end:{line:114,column:165}},'70':{start:{line:115,column:8},end:{line:115,column:29}},'71':{start:{line:116,column:8},end:{line:116,column:30}},'72':{start:{line:120,column:4},end:{line:128,column:7}},'73':{start:{line:122,column:8},end:{line:122,column:79}},'74':{start:{line:124,column:8},end:{line:124,column:67}},'75':{start:{line:125,column:8},end:{line:125,column:46}},'76':{start:{line:133,column:17},end:{line:133,column:19}},'77':{start:{line:134,column:4},end:{line:134,column:95}},'78':{start:{line:134,column:37},end:{line:134,column:95}},'79':{start:{line:135,column:4},end:{line:135,column:18}},'80':{start:{line:140,column:0},end:{line:142,column:3}},'81':{start:{line:141,column:4},end:{line:141,column:44}},'82':{start:{line:144,column:0},end:{line:146,column:3}},'83':{start:{line:145,column:4},end:{line:145,column:44}},'84':{start:{line:148,column:0},end:{line:150,column:3}},'85':{start:{line:149,column:4},end:{line:149,column:44}},'86':{start:{line:154,column:0},end:{line:165,column:3}},'87':{start:{line:155,column:4},end:{line:155,column:44}},'88':{start:{line:156,column:4},end:{line:164,column:7}},'89':{start:{line:157,column:8},end:{line:163,column:9}},'90':{start:{line:158,column:12},end:{line:158,column:38}},'91':{start:{line:161,column:12},end:{line:161,column:30}},'92':{start:{line:162,column:12},end:{line:162,column:27}},'93':{start:{line:182,column:0},end:{line:189,column:3}},'94':{start:{line:183,column:4},end:{line:183,column:44}},'95':{start:{line:184,column:13},end:{line:184,column:26}},'96':{start:{line:185,column:4},end:{line:185,column:20}},'97':{start:{line:186,column:4},end:{line:188,column:7}},'98':{start:{line:187,column:8},end:{line:187,column:22}},'99':{start:{line:190,column:0},end:{line:195,column:2}},'100':{start:{line:191,column:4},end:{line:194,column:6}},'101':{start:{line:192,column:8},end:{line:192,column:22}},'102':{start:{line:196,column:0},end:{line:201,column:2}},'103':{start:{line:197,column:4},end:{line:200,column:6}},'104':{start:{line:198,column:8},end:{line:198,column:22}},'105':{start:{line:202,column:0},end:{line:207,column:2}},'106':{start:{line:203,column:4},end:{line:206,column:6}},'107':{start:{line:204,column:8},end:{line:204,column:22}},'108':{start:{line:208,column:0},end:{line:213,column:2}},'109':{start:{line:209,column:4},end:{line:212,column:6}},'110':{start:{line:210,column:8},end:{line:210,column:22}},'111':{start:{line:214,column:0},end:{line:219,column:2}},'112':{start:{line:215,column:4},end:{line:218,column:6}},'113':{start:{line:216,column:8},end:{line:216,column:22}},'114':{start:{line:220,column:0},end:{line:224,column:2}},'115':{start:{line:221,column:4},end:{line:223,column:6}},'116':{start:{line:222,column:8},end:{line:222,column:22}},'117':{start:{line:226,column:13},end:{line:226,column:50}},'118':{start:{line:227,column:0},end:{line:227,column:43}},'119':{start:{line:229,column:0},end:{line:229,column:24}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:25,column:20},end:{line:25,column:21}},loc:{start:{line:25,column:38},end:{line:129,column:1}},line:25},'1':{name:'(anonymous_1)',decl:{start:{line:34,column:28},end:{line:34,column:29}},loc:{start:{line:34,column:40},end:{line:42,column:5}},line:34},'2':{name:'(anonymous_2)',decl:{start:{line:45,column:34},end:{line:45,column:35}},loc:{start:{line:45,column:49},end:{line:62,column:5}},line:45},'3':{name:'(anonymous_3)',decl:{start:{line:52,column:83},end:{line:52,column:84}},loc:{start:{line:52,column:101},end:{line:59,column:9}},line:52},'4':{name:'(anonymous_4)',decl:{start:{line:64,column:27},end:{line:64,column:28}},loc:{start:{line:64,column:37},end:{line:74,column:5}},line:64},'5':{name:'(anonymous_5)',decl:{start:{line:75,column:32},end:{line:75,column:33}},loc:{start:{line:75,column:42},end:{line:83,column:5}},line:75},'6':{name:'(anonymous_6)',decl:{start:{line:84,column:32},end:{line:84,column:33}},loc:{start:{line:84,column:42},end:{line:92,column:5}},line:84},'7':{name:'(anonymous_7)',decl:{start:{line:93,column:31},end:{line:93,column:32}},loc:{start:{line:93,column:41},end:{line:101,column:5}},line:93},'8':{name:'(anonymous_8)',decl:{start:{line:102,column:31},end:{line:102,column:32}},loc:{start:{line:102,column:41},end:{line:110,column:5}},line:102},'9':{name:'(anonymous_9)',decl:{start:{line:111,column:28},end:{line:111,column:29}},loc:{start:{line:111,column:38},end:{line:117,column:5}},line:111},'10':{name:'(anonymous_10)',decl:{start:{line:120,column:33},end:{line:120,column:34}},loc:{start:{line:120,column:54},end:{line:128,column:5}},line:120},'11':{name:'randomString',decl:{start:{line:132,column:9},end:{line:132,column:21}},loc:{start:{line:132,column:37},end:{line:136,column:1}},line:132},'12':{name:'(anonymous_12)',decl:{start:{line:140,column:21},end:{line:140,column:22}},loc:{start:{line:140,column:41},end:{line:142,column:1}},line:140},'13':{name:'(anonymous_13)',decl:{start:{line:144,column:20},end:{line:144,column:21}},loc:{start:{line:144,column:40},end:{line:146,column:1}},line:144},'14':{name:'(anonymous_14)',decl:{start:{line:148,column:22},end:{line:148,column:23}},loc:{start:{line:148,column:42},end:{line:150,column:1}},line:148},'15':{name:'(anonymous_15)',decl:{start:{line:154,column:32},end:{line:154,column:33}},loc:{start:{line:154,column:60},end:{line:165,column:1}},line:154},'16':{name:'(anonymous_16)',decl:{start:{line:156,column:32},end:{line:156,column:33}},loc:{start:{line:156,column:53},end:{line:164,column:5}},line:156},'17':{name:'(anonymous_17)',decl:{start:{line:182,column:36},end:{line:182,column:37}},loc:{start:{line:182,column:56},end:{line:189,column:1}},line:182},'18':{name:'(anonymous_18)',decl:{start:{line:186,column:64},end:{line:186,column:65}},loc:{start:{line:186,column:84},end:{line:188,column:5}},line:186},'19':{name:'(anonymous_19)',decl:{start:{line:190,column:21},end:{line:190,column:22}},loc:{start:{line:190,column:39},end:{line:195,column:1}},line:190},'20':{name:'(anonymous_20)',decl:{start:{line:191,column:20},end:{line:191,column:21}},loc:{start:{line:191,column:37},end:{line:194,column:5}},line:191},'21':{name:'(anonymous_21)',decl:{start:{line:196,column:23},end:{line:196,column:24}},loc:{start:{line:196,column:41},end:{line:201,column:1}},line:196},'22':{name:'(anonymous_22)',decl:{start:{line:197,column:50},end:{line:197,column:51}},loc:{start:{line:197,column:67},end:{line:200,column:5}},line:197},'23':{name:'(anonymous_23)',decl:{start:{line:202,column:27},end:{line:202,column:28}},loc:{start:{line:202,column:45},end:{line:207,column:1}},line:202},'24':{name:'(anonymous_24)',decl:{start:{line:203,column:54},end:{line:203,column:55}},loc:{start:{line:203,column:71},end:{line:206,column:5}},line:203},'25':{name:'(anonymous_25)',decl:{start:{line:208,column:27},end:{line:208,column:28}},loc:{start:{line:208,column:45},end:{line:213,column:1}},line:208},'26':{name:'(anonymous_26)',decl:{start:{line:209,column:54},end:{line:209,column:55}},loc:{start:{line:209,column:71},end:{line:212,column:5}},line:209},'27':{name:'(anonymous_27)',decl:{start:{line:214,column:26},end:{line:214,column:27}},loc:{start:{line:214,column:44},end:{line:219,column:1}},line:214},'28':{name:'(anonymous_28)',decl:{start:{line:215,column:53},end:{line:215,column:54}},loc:{start:{line:215,column:70},end:{line:218,column:5}},line:215},'29':{name:'(anonymous_29)',decl:{start:{line:220,column:26},end:{line:220,column:27}},loc:{start:{line:220,column:44},end:{line:224,column:1}},line:220},'30':{name:'(anonymous_30)',decl:{start:{line:221,column:53},end:{line:221,column:54}},loc:{start:{line:221,column:71},end:{line:223,column:5}},line:221}},branchMap:{'0':{loc:{start:{line:27,column:4},end:{line:31,column:5}},type:'if',locations:[{start:{line:27,column:4},end:{line:31,column:5}},{start:{line:27,column:4},end:{line:31,column:5}}],line:27},'1':{loc:{start:{line:36,column:8},end:{line:40,column:9}},type:'if',locations:[{start:{line:36,column:8},end:{line:40,column:9}},{start:{line:36,column:8},end:{line:40,column:9}}],line:36},'2':{loc:{start:{line:53,column:12},end:{line:58,column:13}},type:'if',locations:[{start:{line:53,column:12},end:{line:58,column:13}},{start:{line:53,column:12},end:{line:58,column:13}}],line:53},'3':{loc:{start:{line:157,column:8},end:{line:163,column:9}},type:'if',locations:[{start:{line:157,column:8},end:{line:163,column:9}},{start:{line:157,column:8},end:{line:163,column:9}}],line:157},'4':{loc:{start:{line:226,column:25},end:{line:226,column:49}},type:'binary-expr',locations:[{start:{line:226,column:25},end:{line:226,column:41}},{start:{line:226,column:45},end:{line:226,column:49}}],line:226}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var express=(++cov_y2twvpi87.s[0],require('express'));var app=(++cov_y2twvpi87.s[1],express());var mongojs=(++cov_y2twvpi87.s[2],require('mongojs'));var db=(++cov_y2twvpi87.s[3],mongojs('mongodb://heroku_2hcp9k8k:19uocjcgsn6ce4pp7j66fe1ras@ds119020.mlab.com:19020/heroku_2hcp9k8k',['questionsCollection','counter']));var bodyParser=(++cov_y2twvpi87.s[4],require('body-parser'));var path=(++cov_y2twvpi87.s[5],require('path'));var cookie=(++cov_y2twvpi87.s[6],require('cookie'));var cookies=(++cov_y2twvpi87.s[7],cookie.parse('userCount = 1; cantKeepUpCount = 1; decreaseVolumeCount = 1; increaseVolumeCount = 1;decreaseSpeedCount = 1; increaseSpeedCount = 1'));++cov_y2twvpi87.s[8];console.log("hai");++cov_y2twvpi87.s[9];console.log(cookies);++cov_y2twvpi87.s[10];app.use(express.static(__dirname));++cov_y2twvpi87.s[11];app.use(bodyParser.json());/* SOCKET IO */var http=(++cov_y2twvpi87.s[12],require('http').Server(app));var io=(++cov_y2twvpi87.s[13],require('socket.io')(http));var userCounter=(++cov_y2twvpi87.s[14],0);// socket functions
++cov_y2twvpi87.s[15];io.on('connection',function(socket){++cov_y2twvpi87.f[0];++cov_y2twvpi87.s[16];console.log('User '+userCounter+' connected.');++cov_y2twvpi87.s[17];if(cookies.userCount>0){++cov_y2twvpi87.b[0][0];++cov_y2twvpi87.s[18];userCounter+=1;++cov_y2twvpi87.s[19];io.emit('incUser');++cov_y2twvpi87.s[20];cookies.userCount-=1;}else{++cov_y2twvpi87.b[0][1];}++cov_y2twvpi87.s[21];socket.on('disconnect',function(){++cov_y2twvpi87.f[1];++cov_y2twvpi87.s[22];console.log('a user disconnected');++cov_y2twvpi87.s[23];if(cookies.userCount<1){++cov_y2twvpi87.b[1][0];++cov_y2twvpi87.s[24];userCounter-=1;++cov_y2twvpi87.s[25];io.emit('decUser');++cov_y2twvpi87.s[26];cookies.userCount+=1;}else{++cov_y2twvpi87.b[1][1];}});// servers response to emitted message from controllers
++cov_y2twvpi87.s[27];socket.on('question message',function(msg){++cov_y2twvpi87.f[2];++cov_y2twvpi87.s[28];console.log('message: '+msg);//creates random string with the function outside the socket function
var rString=(++cov_y2twvpi87.s[29],randomString(24,'0123456789abcdef'));//inserting new message into mlab database
++cov_y2twvpi87.s[30];db.questionsCollection.insert({_id:mongojs.ObjectID(rString),text:msg},function(err,o){++cov_y2twvpi87.f[3];++cov_y2twvpi87.s[31];if(err){++cov_y2twvpi87.b[2][0];++cov_y2twvpi87.s[32];console.warn(err.message);}else{++cov_y2twvpi87.b[2][1];++cov_y2twvpi87.s[33];console.log("question message inserted into the db: "+msg);}});// broadcasts question message to all listening sockets with the same object we insert into the database
++cov_y2twvpi87.s[34];io.emit('question message',{_id:mongojs.ObjectID(rString),text:msg});});//menu buttons
++cov_y2twvpi87.s[35];socket.on('cantKeepUp',function(){++cov_y2twvpi87.f[4];var hits=(++cov_y2twvpi87.s[36],parseInt(cookies.cantKeepUpCount));++cov_y2twvpi87.s[37];db.counter.update({"counter":"cantKeepUp"},{"$inc":{"hits":parseInt(cookies.cantKeepUpCount)}});++cov_y2twvpi87.s[38];console.log("cant keep up server"+parseInt(cookies.cantKeepUpCount));++cov_y2twvpi87.s[39];cookies.cantKeepUpCount=parseInt(cookies.cantKeepUpCount)*-1;++cov_y2twvpi87.s[40];io.emit('cantKeepUp',hits);});++cov_y2twvpi87.s[41];socket.on('decreaseVolume',function(){++cov_y2twvpi87.f[5];var hits=(++cov_y2twvpi87.s[42],parseInt(cookies.decreaseVolumeCount));++cov_y2twvpi87.s[43];db.counter.update({"counter":"decreaseVolume"},{"$inc":{"hits":parseInt(cookies.decreaseVolumeCount)}});++cov_y2twvpi87.s[44];console.log("decrease volume "+cookies.decreaseVolumeCount);++cov_y2twvpi87.s[45];cookies.decreaseVolumeCount=parseInt(cookies.decreaseVolumeCount)*-1;++cov_y2twvpi87.s[46];console.log(cookies);++cov_y2twvpi87.s[47];io.emit('decreaseVolume',hits);});++cov_y2twvpi87.s[48];socket.on('increaseVolume',function(){++cov_y2twvpi87.f[6];var hits=(++cov_y2twvpi87.s[49],parseInt(cookies.increaseVolumeCount));++cov_y2twvpi87.s[50];db.counter.update({"counter":"increaseVolume"},{"$inc":{"hits":parseInt(cookies.increaseVolumeCount)}});++cov_y2twvpi87.s[51];console.log("increaseses volumes"+cookies.increaseVolumeCount);++cov_y2twvpi87.s[52];cookies.increaseVolumeCount=parseInt(cookies.increaseVolumeCount)*-1;++cov_y2twvpi87.s[53];io.emit('increaseVolume',hits);});++cov_y2twvpi87.s[54];socket.on('decreaseSpeed',function(){++cov_y2twvpi87.f[7];var hits=(++cov_y2twvpi87.s[55],parseInt(cookies.decreaseSpeedCount));++cov_y2twvpi87.s[56];db.counter.update({"counter":"decreaseSpeed"},{"$inc":{"hits":parseInt(cookies.decreaseSpeedCount)}});++cov_y2twvpi87.s[57];console.log("decerease speed"+cookies.decreaseSpeedCount);++cov_y2twvpi87.s[58];cookies.decreaseSpeedCount=parseInt(cookies.decreaseSpeedCount)*-1;++cov_y2twvpi87.s[59];io.emit('decreaseSpeed',hits);});++cov_y2twvpi87.s[60];socket.on('increaseSpeed',function(){++cov_y2twvpi87.f[8];var hits=(++cov_y2twvpi87.s[61],parseInt(cookies.increaseSpeedCount));++cov_y2twvpi87.s[62];db.counter.update({"counter":"increaseSpeed"},{"$inc":{"hits":parseInt(cookies.increaseSpeedCount)}});++cov_y2twvpi87.s[63];console.log("incerease speed"+cookies.increaseSpeedCount);++cov_y2twvpi87.s[64];cookies.increaseSpeedCount=parseInt(cookies.increaseSpeedCount)*-1;++cov_y2twvpi87.s[65];io.emit('increaseSpeed',hits);});++cov_y2twvpi87.s[66];socket.on('resetVotes',function(){++cov_y2twvpi87.f[9];++cov_y2twvpi87.s[67];db.counter.update({},{"$set":{"hits":0}},{multi:true});++cov_y2twvpi87.s[68];console.log(cookies);++cov_y2twvpi87.s[69];cookies=cookie.parse('userCount = 0; cantKeepUpCount = 1; decreaseVolumeCount = 1; increaseVolumeCount = 1;decreaseSpeedCount = 1; increaseSpeedCount = 1');++cov_y2twvpi87.s[70];console.log(cookies);++cov_y2twvpi87.s[71];io.emit('resetVotes');});//servers response to emitted message to delete question from lecturer controller
++cov_y2twvpi87.s[72];socket.on('question delete',function(index,id){++cov_y2twvpi87.f[10];++cov_y2twvpi87.s[73];console.log("Server received 'question delete' broadcast for id: "+id);//deletes the selected question from the database
++cov_y2twvpi87.s[74];db.questionsCollection.remove({_id:mongojs.ObjectId(id)});++cov_y2twvpi87.s[75];io.emit('question delete',index,id);});});/* ID Generator */function randomString(length,chars){++cov_y2twvpi87.f[11];var result=(++cov_y2twvpi87.s[76],'');++cov_y2twvpi87.s[77];for(var i=length;i>0;--i){++cov_y2twvpi87.s[78];result+=chars[Math.floor(Math.random()*chars.length)];}++cov_y2twvpi87.s[79];return result;}/* SERVER SIDE ROUTING */++cov_y2twvpi87.s[80];app.get('/lecturer',function(req,res){++cov_y2twvpi87.f[12];++cov_y2twvpi87.s[81];res.sendFile(__dirname+'/index.html');});++cov_y2twvpi87.s[82];app.get('/student',function(req,res){++cov_y2twvpi87.f[13];++cov_y2twvpi87.s[83];res.sendFile(__dirname+'/index.html');});++cov_y2twvpi87.s[84];app.get('/questions',function(req,res){++cov_y2twvpi87.f[14];++cov_y2twvpi87.s[85];res.sendFile(__dirname+'/index.html');});/* DATABASE METHODS */++cov_y2twvpi87.s[86];app.get('/questionsCollection',function(req,res,socket){++cov_y2twvpi87.f[15];++cov_y2twvpi87.s[87];console.log("I received a GET request");++cov_y2twvpi87.s[88];db.questionsCollection.find(function(err,docs){++cov_y2twvpi87.f[16];++cov_y2twvpi87.s[89];if(err){++cov_y2twvpi87.b[3][0];++cov_y2twvpi87.s[90];console.warn(err.message);}else{++cov_y2twvpi87.b[3][1];++cov_y2twvpi87.s[91];console.log(docs);++cov_y2twvpi87.s[92];res.json(docs);}});});/*app.post('/questionsCollection', function (req, res) {
    console.log("I received a POST request");
    console.log(req.body);
    db.questionsCollection.insert(req.body, function (err, doc) {
        res.json(doc);
    });
});

app.delete('/questionsCollection/:id', function (req, res) {
    console.log("Server received a DELETE request for ID: " + req.params.id);
    var id = req.params.id;
    console.log(typeof id);
    db.questionsCollection.remove({_id: mongojs.ObjectId(id)});
});*/++cov_y2twvpi87.s[93];app.get('/questionsCollection/:id',function(req,res){++cov_y2twvpi87.f[17];++cov_y2twvpi87.s[94];console.log("I received a GET request");var id=(++cov_y2twvpi87.s[95],req.params.id);++cov_y2twvpi87.s[96];console.log(id);++cov_y2twvpi87.s[97];db.questionsCollection.findOne({_id:mongojs.ObjectId(id)},function(err,doc){++cov_y2twvpi87.f[18];++cov_y2twvpi87.s[98];res.json(doc);});});++cov_y2twvpi87.s[99];app.get('/counters',function(req,res){++cov_y2twvpi87.f[19];++cov_y2twvpi87.s[100];db.counter.find(function(err,doc){++cov_y2twvpi87.f[20];++cov_y2twvpi87.s[101];res.json(doc);});});++cov_y2twvpi87.s[102];app.get('/cantKeepUp',function(req,res){++cov_y2twvpi87.f[21];++cov_y2twvpi87.s[103];db.counter.findOne({"counter":"cantKeepUp"},function(err,doc){++cov_y2twvpi87.f[22];++cov_y2twvpi87.s[104];res.json(doc);});});++cov_y2twvpi87.s[105];app.get('/decreaseVolume',function(req,res){++cov_y2twvpi87.f[23];++cov_y2twvpi87.s[106];db.counter.findOne({"counter":"decreaseVolume"},function(err,doc){++cov_y2twvpi87.f[24];++cov_y2twvpi87.s[107];res.json(doc);});});++cov_y2twvpi87.s[108];app.get('/increaseVolume',function(req,res){++cov_y2twvpi87.f[25];++cov_y2twvpi87.s[109];db.counter.findOne({"counter":"increaseVolume"},function(err,doc){++cov_y2twvpi87.f[26];++cov_y2twvpi87.s[110];res.json(doc);});});++cov_y2twvpi87.s[111];app.get('/decreaseSpeed',function(req,res){++cov_y2twvpi87.f[27];++cov_y2twvpi87.s[112];db.counter.findOne({"counter":"decreaseSpeed"},function(err,doc){++cov_y2twvpi87.f[28];++cov_y2twvpi87.s[113];res.json(doc);});});++cov_y2twvpi87.s[114];app.get('/increaseSpeed',function(req,res){++cov_y2twvpi87.f[29];++cov_y2twvpi87.s[115];db.counter.findOne({"counter":"increaseSpeed"},function(err,doc){++cov_y2twvpi87.f[30];++cov_y2twvpi87.s[116];res.json(doc);});});var server=(++cov_y2twvpi87.s[117],http.listen((++cov_y2twvpi87.b[4][0],process.env.PORT)||(++cov_y2twvpi87.b[4][1],3000)));++cov_y2twvpi87.s[118];console.log("Server running on port 3000");++cov_y2twvpi87.s[119];module.exports=server;